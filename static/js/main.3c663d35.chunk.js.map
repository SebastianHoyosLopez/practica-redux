{"version":3,"sources":["redux/pokeDucks.js","components/Detalle.jsx","components/Pokemones.jsx","firebase.js","redux/usuarioDucks.js","components/Login.jsx","components/Navbar.jsx","App.jsx","redux/store.js","index.js"],"names":["dataInicial","count","next","previous","results","OBTENER_POKEMONES_EXITO","SIGUIENTE_POKEMONES_EXITO","POKE_INFO_EXITO","unPokeDetalleAccion","url","dispatch","a","localStorage","getItem","type","payload","JSON","parse","console","log","axios","get","res","nombre","data","name","ancho","weight","alto","height","foto","sprites","front_default","setItem","stringify","obtenerPokemonesAccion","Detalle","useDispatch","React","useEffect","pokemon","useSelector","store","pokemones","unPokemon","className","src","alt","Pokemones","map","item","onClick","length","getState","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","loading","activo","LOADING","USUARIO_ERROR","USUARIO_EXITO","CERRAR_SESION","withRouter","props","usuario","history","push","provider","GoogleAuthProvider","signInWithPopup","uid","user","email","disabled","cerrarSesion","signOut","removeItem","to","exact","App","useState","firebaseUser","setFirebaseUser","onAuthStateChanged","RutaProtegida","component","path","rest","Login","rootReducer","combineReducers","state","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","generateStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c663d35.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// constantes\r\nconst dataInicial = {\r\n  count: 0,\r\n  next: null,\r\n  previous: null,\r\n  results: [],\r\n};\r\n\r\n//type\r\nconst OBTENER_POKEMONES_EXITO = \"OBTENER_POKEMONES_EXITO\";\r\nconst SIGUIENTE_POKEMONES_EXITO = \"SIGUIENTE_POKEMONES_EXITO\";\r\nconst POKE_INFO_EXITO = \"POKE_INFO_EXITO\";\r\n\r\n// reducer\r\n\r\nexport default function pokeReducer(state = dataInicial, action) {\r\n  switch (action.type) {\r\n    case OBTENER_POKEMONES_EXITO:\r\n      return { ...state, ...action.payload };\r\n    case SIGUIENTE_POKEMONES_EXITO:\r\n      return { ...state, ...action.payload };\r\n    case POKE_INFO_EXITO:\r\n      return { ...state, unPokemon: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// acciones\r\n\r\nexport const unPokeDetalleAccion = (\r\n  url = \"https://pokeapi.co/api/v2/pokemon/1\"\r\n) => async (dispatch) => {\r\n  if (localStorage.getItem(url)) {\r\n    dispatch({\r\n      type: POKE_INFO_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(url)),\r\n    });\r\n    console.log('desde localstorage')\r\n    return\r\n  }\r\n\r\n  try {\r\n    console.log('desde api')\r\n    const res = await axios.get(url);\r\n    //console.log(res.data);\r\n    dispatch({\r\n      type: POKE_INFO_EXITO,\r\n      payload: {\r\n        nombre: res.data.name,\r\n        ancho: res.data.weight,\r\n        alto: res.data.height,\r\n        foto: res.data.sprites.front_default,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      url,\r\n      JSON.stringify({\r\n        nombre: res.data.name,\r\n        ancho: res.data.weight,\r\n        alto: res.data.height,\r\n        foto: res.data.sprites.front_default,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const obtenerPokemonesAccion = () => async (dispatch) => {\r\n  //console.log( \"getState\", getState().pokemones.offset)\r\n  //const offset =  getState().pokemones.offset\r\n  //const {offset} =  getState().pokemones\r\n\r\n  if (localStorage.getItem(\"offset=0\")) {\r\n    console.log(\"datos guardados\");\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(\"offset=0\")),\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"datos de la api\");\r\n    const res = await axios.get(\r\n      `https://pokeapi.co/api/v2/pokemon?offset=0&limit=10`\r\n    );\r\n    //console.log(res.data);\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: res.data,\r\n    });\r\n    localStorage.setItem(\"offset=0\", JSON.stringify(res.data));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const siguientePokemonAccion = () => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  // primera alternativa\r\n  //const offset = getState().pokemones.offset\r\n  //const siguiente = offset + numero\r\n\r\n  const next = getState().pokemones.next;\r\n\r\n  if (localStorage.getItem(next)) {\r\n    console.log(\"datos guardados\");\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(next)),\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"datos de la api\");\r\n    const res = await axios.get(next);\r\n    //console.log(res.data);\r\n    dispatch({\r\n      type: SIGUIENTE_POKEMONES_EXITO,\r\n      payload: res.data,\r\n    });\r\n    localStorage.setItem(next, JSON.stringify(res.data));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const anteriorPokemonAccion = () => async (dispatch, getState) => {\r\n  const { previous } = getState().pokemones;\r\n\r\n  if (localStorage.getItem(previous)) {\r\n    console.log(\"datos guardados\");\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(previous)),\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"datos de la api\");\r\n    const res = await axios.get(previous);\r\n    dispatch({\r\n      type: SIGUIENTE_POKEMONES_EXITO,\r\n      payload: res.data,\r\n    });\r\n    localStorage.setItem(previous, JSON.stringify(res.data));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { unPokeDetalleAccion } from \"../redux/pokeDucks\";\r\n\r\nconst Detalle = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    const fetchData = () => {\r\n      dispatch(unPokeDetalleAccion());\r\n    };\r\n    fetchData();\r\n  }, [dispatch]);\r\n\r\n  const pokemon = useSelector((store) => store.pokemones.unPokemon);\r\n  //console.log(pokemon)\r\n\r\n  return pokemon ? (\r\n    <div className=\"card mt-4 text-center\">\r\n      <div className=\"card-body\">\r\n        <img src={pokemon.foto} className=\"img-fluid\" alt=\"\" />\r\n        <div className=\"card-title text-uppercase\">{pokemon.nombre}</div>\r\n        <p className=\"card-text\">\r\n          Alto: {pokemon.alto} | Ancho: {pokemon.ancho}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default Detalle;\r\n","import React from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  obtenerPokemonesAccion,\r\n  siguientePokemonAccion,\r\n  anteriorPokemonAccion,\r\n  unPokeDetalleAccion,\r\n} from \"../redux/pokeDucks\";\r\nimport Detalle from \"./Detalle\";\r\n\r\nconst Pokemones = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const pokemones = useSelector((store) => store.pokemones.results);\r\n  const next = useSelector((store) => store.pokemones.next);\r\n  const previous = useSelector((store) => store.pokemones.previous);\r\n\r\n  React.useEffect(() => {\r\n    const fetchData = () => {\r\n      dispatch(obtenerPokemonesAccion());\r\n    };\r\n    fetchData();\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6\">\r\n        <h3>lista de pokemones</h3>\r\n        <ul className=\"list-group mt-4\">\r\n          {pokemones.map((item) => (\r\n            <li key={item.name} className=\"list-group-item text-uppercase\">\r\n              {item.name}\r\n              <button\r\n                onClick={() => dispatch(unPokeDetalleAccion(item.url))}\r\n                className=\"btn btn-dark btn-sm float-end\"\r\n              >\r\n                Info\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className=\"d-flex justify-content-between mt-4\">\r\n          {pokemones.length === 0 && (\r\n            <button\r\n              onClick={() => dispatch(obtenerPokemonesAccion())}\r\n              className=\"btn btn-dark\"\r\n            >\r\n              Get Pokemones\r\n            </button>\r\n          )}\r\n          {next && (\r\n            <button\r\n              onClick={() => dispatch(siguientePokemonAccion())}\r\n              className=\"btn btn-dark\"\r\n            >\r\n              Siguiente\r\n            </button>\r\n          )}\r\n          {previous && (\r\n            <button\r\n              onClick={() => dispatch(anteriorPokemonAccion())}\r\n              className=\"btn btn-dark\"\r\n            >\r\n              Anterior\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-6\">\r\n        <h3>Detalle Pokemón</h3>\r\n        <Detalle />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pokemones;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDXyckZJwWBvHqaa7ZBoP56zhkHOqhT1CQ\",\r\n  authDomain: \"crud-firebase-login.firebaseapp.com\",\r\n  projectId: \"crud-firebase-login\",\r\n  storageBucket: \"crud-firebase-login.appspot.com\",\r\n  messagingSenderId: \"838673483005\",\r\n  appId: \"1:838673483005:web:ed0e4e4a3fb11fb21c2a94\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth()\r\n\r\nexport {auth, firebase}","import { auth, firebase } from \"../firebase\";\r\n\r\n// data inicial\r\nconst dataInicial = {\r\n  loading: false,\r\n  activo: false,\r\n};\r\n\r\n// type\r\nconst LOADING = \"LOADING\";\r\nconst USUARIO_ERROR = \"USARIO_ERROR\";\r\nconst USUARIO_EXITO = \"USUARIO_EXITO\";\r\nconst CERRAR_SESION = \"CERRAR_SESION\";\r\n\r\n// reducer\r\n\r\nexport default function usuarioReducer(state = dataInicial, action) {\r\n  switch (action.type) {\r\n    case LOADING:\r\n      return { ...state, loading: true };\r\n    case USUARIO_ERROR:\r\n      return { ...dataInicial };\r\n    case USUARIO_EXITO:\r\n      return { ...state, loading: false, user: action.payload, activo: true };\r\n    case CERRAR_SESION:\r\n      return { ...dataInicial };\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\r\n// action\r\n\r\nexport const ingresoUsuarioAccion = () => async (dispatch) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n  try {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const res = await auth.signInWithPopup(provider);\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: {\r\n        uid: res.user.uid,\r\n        email: res.user.email,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      \"usuario\",\r\n      JSON.stringify({\r\n        uid: res.user.uid,\r\n        email: res.user.email,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: USUARIO_ERROR,\r\n    });\r\n  }\r\n};\r\n\r\nexport const leerUsuarioActivoAccion = () => (dispatch) => {\r\n  if (localStorage.getItem(\"usuario\")) {\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(\"usuario\")),\r\n    });\r\n  }\r\n};\r\n\r\nexport const cerrarSesionAccion = () => (dispatch) => {\r\n  auth.signOut();\r\n  localStorage.removeItem(\"usuario\");\r\n  dispatch({\r\n    type: CERRAR_SESION\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch , useSelector} from \"react-redux\";\r\n\r\nimport {ingresoUsuarioAccion} from '../redux/usuarioDucks'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nconst Login = (props) => {\r\n  const dispatch = useDispatch();\r\n  \r\n  const loading = useSelector(store => store.usuario.loading)\r\n  const activo = useSelector(store => store.usuario.activo)\r\n  console.log(activo)\r\n\r\n  React.useEffect(() => {\r\n    if(activo){\r\n      props.history.push('/')\r\n    }\r\n  }, [activo])\r\n\r\n  return (\r\n    <div className=\"mt-5 text-center\">\r\n      <h3>Ingreso con Google</h3>\r\n      <hr />\r\n      <button\r\n        className=\"btn btn-dark\"\r\n        onClick={() => dispatch(ingresoUsuarioAccion())}\r\n        disabled={loading}\r\n      >\r\n        Acceder\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { cerrarSesionAccion } from \"../redux/usuarioDucks\";\r\n\r\nconst Navbar = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const cerrarSesion = () => {\r\n    dispatch(cerrarSesionAccion());\r\n    props.history.push(\"/login\");\r\n  };\r\n\r\n  const activo = useSelector((store) => store.usuario.activo);\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        APP POKE\r\n      </Link>\r\n      <div className=\"d-flex\">\r\n        {activo ? (\r\n          <>\r\n            <NavLink className=\"btn btn-dark mr-2\" to=\"/\" exact>\r\n              Inicio\r\n            </NavLink>\r\n            <button\r\n              className=\"btn btn-dark mr-2\"\r\n              onClick={() => cerrarSesion()}\r\n            >\r\n              Cerrar Sesión\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <NavLink className=\"btn btn-dark mr-2\" to=\"/login\">\r\n            Login\r\n          </NavLink>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import React from \"react\";\nimport Pokemones from \"./components/Pokemones\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport {auth} from './firebase'\n\nfunction App() {\n  const [firebaseUser, setFirebaseUser] = React.useState(false);\n\n  React.useEffect(() => {\n    const fetchUser = () => {\n      auth.onAuthStateChanged((user) => {\n        console.log(user);\n        if (user) {\n          setFirebaseUser(user);\n        } else {\n          setFirebaseUser(null);\n        }\n      });\n    };\n    fetchUser();\n  }, []);\n\n  const RutaProtegida = ({component, path, ...rest}) => {\n    if(localStorage.getItem('usuario')){\n      const usuarioStorage = JSON.parse(localStorage.getItem('usuario'))\n      if(usuarioStorage.uid === firebaseUser.uid){\n        console.log('son iguales')\n        return <Route component={component} path={path} {...rest} />\n      }else{\n        console.log('no exite')\n        return <Redirect to=\"/login\" {...rest} />\n      }\n    }else{\n      return <Redirect to=\"/login\" {...rest} />\n    }\n  }\n\n  return firebaseUser !== false ? (\n    <Router>\n      <div className=\"container mt-3\">\n        <Navbar />\n        <Switch>\n          <RutaProtegida component={Pokemones} path=\"/\" exact />\n          <Route component={Login} path=\"/login\" exact />\n        </Switch>\n      </div>\n    </Router>\n  ) : (\n    <div>Cargando...</div>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport pokeReducer from \"./pokeDucks\";\r\nimport usuarioReducer, { leerUsuarioActivoAccion } from \"./usuarioDucks\";\r\n\r\nconst rootReducer = combineReducers({\r\n  pokemones: pokeReducer,\r\n  usuario: usuarioReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function generateStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n  );\r\n  leerUsuarioActivoAccion()(store.dispatch)\r\n  return store;\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nimport { Provider } from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nconst store = generateStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}