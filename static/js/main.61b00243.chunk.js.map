{"version":3,"sources":["redux/pokeDucks.js","components/Detalle.jsx","components/Pokemones.jsx","firebase.js","redux/usuarioDucks.js","components/Login.jsx","components/Navbar.jsx","components/Perfil.jsx","App.jsx","redux/store.js","index.js"],"names":["dataInicial","count","next","previous","results","OBTENER_POKEMONES_EXITO","SIGUIENTE_POKEMONES_EXITO","POKE_INFO_EXITO","unPokeDetalleAccion","url","dispatch","a","localStorage","getItem","type","payload","JSON","parse","console","log","axios","get","res","nombre","data","name","ancho","weight","alto","height","foto","sprites","front_default","setItem","stringify","obtenerPokemonesAccion","Detalle","useDispatch","React","useEffect","pokemon","useSelector","store","pokemones","unPokemon","className","src","alt","Pokemones","map","item","onClick","length","getState","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","storage","loading","activo","LOADING","USUARIO_ERROR","USUARIO_EXITO","CERRAR_SESION","withRouter","props","usuario","history","push","provider","GoogleAuthProvider","signInWithPopup","user","uid","email","displayName","photoURL","collection","doc","usuarioDB","exists","set","disabled","cerrarSesion","signOut","removeItem","to","exact","Perfil","useState","nombreUsuario","setNombreUsuario","activarFormulario","setActivarFormulario","actualizarUsuario","nombreActualizado","trim","update","width","role","value","onChange","e","target","App","firebaseUser","setFirebaseUser","onAuthStateChanged","RutaProtegida","component","path","rest","Login","rootReducer","combineReducers","state","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","generateStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61b00243.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// constantes\r\nconst dataInicial = {\r\n  count: 0,\r\n  next: null,\r\n  previous: null,\r\n  results: [],\r\n};\r\n\r\n//type\r\nconst OBTENER_POKEMONES_EXITO = \"OBTENER_POKEMONES_EXITO\";\r\nconst SIGUIENTE_POKEMONES_EXITO = \"SIGUIENTE_POKEMONES_EXITO\";\r\nconst POKE_INFO_EXITO = \"POKE_INFO_EXITO\";\r\n\r\n// reducer\r\n\r\nexport default function pokeReducer(state = dataInicial, action) {\r\n  switch (action.type) {\r\n    case OBTENER_POKEMONES_EXITO:\r\n      return { ...state, ...action.payload };\r\n    case SIGUIENTE_POKEMONES_EXITO:\r\n      return { ...state, ...action.payload };\r\n    case POKE_INFO_EXITO:\r\n      return { ...state, unPokemon: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// acciones\r\n\r\nexport const unPokeDetalleAccion = (\r\n  url = \"https://pokeapi.co/api/v2/pokemon/1\"\r\n) => async (dispatch) => {\r\n  if (localStorage.getItem(url)) {\r\n    dispatch({\r\n      type: POKE_INFO_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(url)),\r\n    });\r\n    console.log('desde localstorage')\r\n    return\r\n  }\r\n\r\n  try {\r\n    console.log('desde api')\r\n    const res = await axios.get(url);\r\n    //console.log(res.data);\r\n    dispatch({\r\n      type: POKE_INFO_EXITO,\r\n      payload: {\r\n        nombre: res.data.name,\r\n        ancho: res.data.weight,\r\n        alto: res.data.height,\r\n        foto: res.data.sprites.front_default,\r\n      },\r\n    });\r\n    localStorage.setItem(\r\n      url,\r\n      JSON.stringify({\r\n        nombre: res.data.name,\r\n        ancho: res.data.weight,\r\n        alto: res.data.height,\r\n        foto: res.data.sprites.front_default,\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const obtenerPokemonesAccion = () => async (dispatch) => {\r\n  //console.log( \"getState\", getState().pokemones.offset)\r\n  //const offset =  getState().pokemones.offset\r\n  //const {offset} =  getState().pokemones\r\n\r\n  if (localStorage.getItem(\"offset=0\")) {\r\n    console.log(\"datos guardados\");\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(\"offset=0\")),\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"datos de la api\");\r\n    const res = await axios.get(\r\n      `https://pokeapi.co/api/v2/pokemon?offset=0&limit=10`\r\n    );\r\n    //console.log(res.data);\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: res.data,\r\n    });\r\n    localStorage.setItem(\"offset=0\", JSON.stringify(res.data));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const siguientePokemonAccion = () => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  // primera alternativa\r\n  //const offset = getState().pokemones.offset\r\n  //const siguiente = offset + numero\r\n\r\n  const next = getState().pokemones.next;\r\n\r\n  if (localStorage.getItem(next)) {\r\n    console.log(\"datos guardados\");\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(next)),\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"datos de la api\");\r\n    const res = await axios.get(next);\r\n    //console.log(res.data);\r\n    dispatch({\r\n      type: SIGUIENTE_POKEMONES_EXITO,\r\n      payload: res.data,\r\n    });\r\n    localStorage.setItem(next, JSON.stringify(res.data));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const anteriorPokemonAccion = () => async (dispatch, getState) => {\r\n  const { previous } = getState().pokemones;\r\n\r\n  if (localStorage.getItem(previous)) {\r\n    console.log(\"datos guardados\");\r\n    dispatch({\r\n      type: OBTENER_POKEMONES_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(previous)),\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log(\"datos de la api\");\r\n    const res = await axios.get(previous);\r\n    dispatch({\r\n      type: SIGUIENTE_POKEMONES_EXITO,\r\n      payload: res.data,\r\n    });\r\n    localStorage.setItem(previous, JSON.stringify(res.data));\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { unPokeDetalleAccion } from \"../redux/pokeDucks\";\r\n\r\nconst Detalle = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    const fetchData = () => {\r\n      dispatch(unPokeDetalleAccion());\r\n    };\r\n    fetchData();\r\n  }, [dispatch]);\r\n\r\n  const pokemon = useSelector((store) => store.pokemones.unPokemon);\r\n  //console.log(pokemon)\r\n\r\n  return pokemon ? (\r\n    <div className=\"card mt-4 text-center\">\r\n      <div className=\"card-body\">\r\n        <img src={pokemon.foto} className=\"img-fluid\" alt=\"\" />\r\n        <div className=\"card-title text-uppercase\">{pokemon.nombre}</div>\r\n        <p className=\"card-text\">\r\n          Alto: {pokemon.alto} | Ancho: {pokemon.ancho}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n\r\nexport default Detalle;\r\n","import React from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  obtenerPokemonesAccion,\r\n  siguientePokemonAccion,\r\n  anteriorPokemonAccion,\r\n  unPokeDetalleAccion,\r\n} from \"../redux/pokeDucks\";\r\nimport Detalle from \"./Detalle\";\r\n\r\nconst Pokemones = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const pokemones = useSelector((store) => store.pokemones.results);\r\n  const next = useSelector((store) => store.pokemones.next);\r\n  const previous = useSelector((store) => store.pokemones.previous);\r\n\r\n  React.useEffect(() => {\r\n    const fetchData = () => {\r\n      dispatch(obtenerPokemonesAccion());\r\n    };\r\n    fetchData();\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className=\"row mt-5\">\r\n      <div className=\"col-md-6\">\r\n        <h3>lista de pokemones</h3>\r\n        <ul className=\"list-group mt-4\">\r\n          {pokemones.map((item) => (\r\n            <li key={item.name} className=\"list-group-item text-uppercase\">\r\n              {item.name}\r\n              <button\r\n                onClick={() => dispatch(unPokeDetalleAccion(item.url))}\r\n                className=\"btn btn-dark btn-sm float-end\"\r\n              >\r\n                Info\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className=\"d-flex justify-content-between mt-4\">\r\n          {pokemones.length === 0 && (\r\n            <button\r\n              onClick={() => dispatch(obtenerPokemonesAccion())}\r\n              className=\"btn btn-dark\"\r\n            >\r\n              Get Pokemones\r\n            </button>\r\n          )}\r\n          {next && (\r\n            <button\r\n              onClick={() => dispatch(siguientePokemonAccion())}\r\n              className=\"btn btn-dark\"\r\n            >\r\n              Siguiente\r\n            </button>\r\n          )}\r\n          {previous && (\r\n            <button\r\n              onClick={() => dispatch(anteriorPokemonAccion())}\r\n              className=\"btn btn-dark\"\r\n            >\r\n              Anterior\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"col-md-6\">\r\n        <h3>Detalle Pokemón</h3>\r\n        <Detalle />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pokemones;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport 'firebase/firestore'\r\nimport 'firebase/storage'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDXyckZJwWBvHqaa7ZBoP56zhkHOqhT1CQ\",\r\n  authDomain: \"crud-firebase-login.firebaseapp.com\",\r\n  projectId: \"crud-firebase-login\",\r\n  storageBucket: \"crud-firebase-login.appspot.com\",\r\n  messagingSenderId: \"838673483005\",\r\n  appId: \"1:838673483005:web:ed0e4e4a3fb11fb21c2a94\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth()\r\nconst db = firebase.firestore()\r\nconst storage = firebase.storage()\r\n\r\nexport {auth, firebase, db, storage}","import { auth, firebase, db, storage } from \"../firebase\";\r\n\r\n// data inicial\r\nconst dataInicial = {\r\n  loading: false,\r\n  activo: false,\r\n};\r\n\r\n// type\r\nconst LOADING = \"LOADING\";\r\nconst USUARIO_ERROR = \"USARIO_ERROR\";\r\nconst USUARIO_EXITO = \"USUARIO_EXITO\";\r\nconst CERRAR_SESION = \"CERRAR_SESION\";\r\n\r\n// reducer\r\n\r\nexport default function usuarioReducer(state = dataInicial, action) {\r\n  switch (action.type) {\r\n    case LOADING:\r\n      return { ...state, loading: true };\r\n    case USUARIO_ERROR:\r\n      return { ...dataInicial };\r\n    case USUARIO_EXITO:\r\n      return { ...state, loading: false, user: action.payload, activo: true };\r\n    case CERRAR_SESION:\r\n      return { ...dataInicial };\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\r\n// action\r\n\r\nexport const ingresoUsuarioAccion = () => async (dispatch) => {\r\n  dispatch({\r\n    type: LOADING,\r\n  });\r\n  try {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const res = await auth.signInWithPopup(provider);\r\n\r\n    console.log(res.user);\r\n\r\n    const usuario = {\r\n      uid: res.user.uid,\r\n      email: res.user.email,\r\n      displayName: res.user.displayName,\r\n      photoURL: res.user.photoURL,\r\n    };\r\n\r\n    const usuarioDB = await db.collection(\"usuarios\").doc(usuario.email).get();\r\n    console.log(usuarioDB);\r\n    if (usuarioDB.exists) {\r\n      //cuando exista el usuario en firestore\r\n      dispatch({\r\n        type: USUARIO_EXITO,\r\n        payload: usuarioDB.data(),\r\n      });\r\n      localStorage.setItem(\"usuario\", JSON.stringify(usuarioDB.data()));\r\n    } else {\r\n      // no existe el usuario en firestore\r\n      await db.collection(\"usuarios\").doc(usuario.email).set(usuario);\r\n      dispatch({\r\n        type: USUARIO_EXITO,\r\n        payload: usuario,\r\n      });\r\n      localStorage.setItem(\"usuario\", JSON.stringify(usuario));\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({\r\n      type: USUARIO_ERROR,\r\n    });\r\n  }\r\n};\r\n\r\nexport const leerUsuarioActivoAccion = () => (dispatch) => {\r\n  if (localStorage.getItem(\"usuario\")) {\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: JSON.parse(localStorage.getItem(\"usuario\")),\r\n    });\r\n  }\r\n};\r\n\r\nexport const cerrarSesionAccion = () => (dispatch) => {\r\n  auth.signOut();\r\n  localStorage.removeItem(\"usuario\");\r\n  dispatch({\r\n    type: CERRAR_SESION,\r\n  });\r\n};\r\n\r\nexport const actualizarUsuarioAccion = (nombreActualizado) => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: LOADING\r\n  })\r\n\r\n  const {user} = getState().usuario\r\n  console.log(user)\r\n  try {\r\n    await db.collection('usuarios').doc(user.email).update({\r\n      displayName: nombreActualizado\r\n    })\r\n    const usuario = {\r\n      ...user, \r\n      displayName: nombreActualizado\r\n    }\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: usuario\r\n    })\r\n    localStorage.setItem('usuario', JSON.stringify(usuario))\r\n  } catch (error) {\r\n      console.log(error)\r\n  }\r\n}\r\n\r\nexport const editarFotoAccion = (imagenEditada) => async(dispatch, getState) => {\r\n  dispatch({\r\n    type: LOADING\r\n  })\r\n  const {user} = getState().usuario\r\n\r\n  try {\r\n    const imagenRef = await storage.ref().child(user.email).child('Foto perfil')\r\n    await imagenRef.put(imagenEditada)\r\n    const imagenURL = await imagenRef.getDownloadURL()\r\n\r\n    await db.collection('usuarios').doc(usuario.email).update({\r\n      photoURL: imagenURL\r\n    })\r\n\r\n    const usuario = {\r\n      ...user, \r\n      photoURL: imagenURL\r\n    }\r\n\r\n    dispatch({\r\n      type: USUARIO_EXITO,\r\n      payload: usuario\r\n    })\r\n    localStorage.setItem('usuario', JSON.stringify(usuario))\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}","import React from \"react\";\r\nimport { useDispatch , useSelector} from \"react-redux\";\r\n\r\nimport {ingresoUsuarioAccion} from '../redux/usuarioDucks'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nconst Login = (props) => {\r\n  const dispatch = useDispatch();\r\n  \r\n  const loading = useSelector(store => store.usuario.loading)\r\n  const activo = useSelector(store => store.usuario.activo)\r\n  console.log(activo)\r\n\r\n  React.useEffect(() => {\r\n    if(activo){\r\n      props.history.push('/')\r\n    }\r\n  }, [activo, props.history])\r\n\r\n  return (\r\n    <div className=\"mt-5 text-center\">\r\n      <h3>Ingreso con Google</h3>\r\n      <hr />\r\n      <button\r\n        className=\"btn btn-dark\"\r\n        onClick={() => dispatch(ingresoUsuarioAccion())}\r\n        disabled={loading}\r\n      >\r\n        Acceder\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { cerrarSesionAccion } from \"../redux/usuarioDucks\";\r\n\r\nconst Navbar = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const cerrarSesion = () => {\r\n    dispatch(cerrarSesionAccion());\r\n    props.history.push(\"/login\");\r\n  };\r\n\r\n  const activo = useSelector((store) => store.usuario.activo);\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        APP POKE\r\n      </Link>\r\n      <div className=\"d-flex\">\r\n        {activo ? (\r\n          <>\r\n            <NavLink className=\"btn btn-dark mr-2\" to=\"/\" exact>\r\n              Inicio\r\n            </NavLink>\r\n            <NavLink className=\"btn btn-dark mr-2\" to=\"/perfil\" exact>\r\n              Perfil\r\n            </NavLink>\r\n            <button\r\n              className=\"btn btn-dark mr-2\"\r\n              onClick={() => cerrarSesion()}\r\n            >\r\n              Cerrar Sesión\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <NavLink className=\"btn btn-dark mr-2\" to=\"/login\">\r\n            Login\r\n          </NavLink>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { actualizarUsuarioAccion } from \"../redux/usuarioDucks\";\r\n\r\nconst Perfil = () => {\r\n  const usuario = useSelector((store) => store.usuario.user);\r\n  const loading = useSelector((store) => store.usuario.loading);\r\n\r\n  const [nombreUsuario, setNombreUsuario] = React.useState(usuario.displayName);\r\n  const [activarFormulario, setActivarFormulario] = React.useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const actualizarUsuario = () => {\r\n    if (!nombreUsuario.trim()) {\r\n      console.log(\"Nombre Vacío\");\r\n      return;\r\n    }\r\n    dispatch(actualizarUsuarioAccion(nombreUsuario));\r\n    setActivarFormulario(false);\r\n  };\r\n\r\n  //console.log(usuario);\r\n  return (\r\n    <div className=\"mt-5 text-center\">\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <img\r\n            src={usuario.photoURL}\r\n            width=\"100px\"\r\n            className=\"img-fluid\"\r\n            alt=\"\"\r\n          />\r\n          <h5 className=\"card-title\">Nombre: {usuario.displayName}</h5>\r\n          <p className=\"card-text\">Email: {usuario.email}</p>\r\n          <button\r\n            className=\"btn btn-dark\"\r\n            onClick={() => setActivarFormulario(true)}\r\n          >\r\n            Editar Nombre\r\n          </button>\r\n        </div>  \r\n        {loading && (\r\n          <div className=\"cardbody\">\r\n            <div className=\"d-flex justify-content-center my-3\">\r\n              <div className=\"spinner-grow text-dark\" role=\"status\">\r\n                <span className=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {activarFormulario && (\r\n          <div className=\"card-dody\">\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col-md-5\">\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    value={nombreUsuario}\r\n                    onChange={(e) => setNombreUsuario(e.target.value)}\r\n                  />\r\n                  <div>\r\n                    <button\r\n                      className=\"btn btn-dark\"\r\n                      type=\"button\"\r\n                      onClick={() => actualizarUsuario()}\r\n                    >\r\n                      Actualizar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Perfil;\r\n","import React from \"react\";\nimport Pokemones from \"./components/Pokemones\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport {auth} from './firebase'\nimport Perfil from \"./components/Perfil\";\n\nfunction App() {\n  const [firebaseUser, setFirebaseUser] = React.useState(false);\n\n  React.useEffect(() => {\n    const fetchUser = () => {\n      auth.onAuthStateChanged((user) => {\n        console.log(user);\n        if (user) {\n          setFirebaseUser(user);\n        } else {\n          setFirebaseUser(null);\n        }\n      });\n    };\n    fetchUser();\n  }, []);\n\n  const RutaProtegida = ({component, path, ...rest}) => {\n    if(localStorage.getItem('usuario')){\n      const usuarioStorage = JSON.parse(localStorage.getItem('usuario'))\n      if(usuarioStorage.uid === firebaseUser.uid){\n        console.log('son iguales')\n        return <Route component={component} path={path} {...rest} />\n      }else{\n        console.log('no exite')\n        return <Redirect to=\"/login\" {...rest} />\n      }\n    }else{\n      return <Redirect to=\"/login\" {...rest} />\n    }\n  }\n\n  return firebaseUser !== false ? (\n    <Router>\n      <div className=\"container mt-3\">\n        <Navbar />\n        <Switch>\n          <RutaProtegida component={Pokemones} path=\"/\" exact />\n          <RutaProtegida component={Perfil} path=\"/perfil\" exact />\n          <Route component={Login} path=\"/login\" exact />\n        </Switch>\n      </div>\n    </Router>\n  ) : (\n    <div>Cargando...</div>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport pokeReducer from \"./pokeDucks\";\r\nimport usuarioReducer, { leerUsuarioActivoAccion } from \"./usuarioDucks\";\r\n\r\nconst rootReducer = combineReducers({\r\n  pokemones: pokeReducer,\r\n  usuario: usuarioReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default function generateStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(thunk))\r\n  );\r\n  leerUsuarioActivoAccion()(store.dispatch);\r\n  return store;\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nimport { Provider } from \"react-redux\";\nimport generateStore from \"./redux/store\";\n\nconst store = generateStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}